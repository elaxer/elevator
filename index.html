<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>схемотехника лифта</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body{
    margin:0; padding:20px;
    font-family: Inter, Roboto, "Segoe UI", system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing:antialiased;
  }
  .wrap{ display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap; }
  table{ border-collapse:collapse; font-family:monospace; font-size:12px;  border: 1px solid silver;}
  tr {
    border: 1px solid silver;
  }
  thead th{
    border: 1px solid silver;
    position:sticky; top:0; background:linear-gradient(180deg,rgba(255,255,255,0.03),transparent);
    z-index:2; color:var(--muted); font-weight:600; padding:8px 10px; text-align:center;
  }
  td{ padding:6px 8px; text-align:center; border: 1px solid silver; }
  .table-wrap{ border-radius:10px; padding:8px; }
  .one {
    background-color: rgb(93, 199, 93);
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="panel" style="flex:1 1 720px;">
      <div class="table-wrap" id="tableWrap">
        <table id="variantsTable" style="width:100%">
          <thead>
            <tr>
              <th>#</th>

              <th>Д1</th>
              <th>Д2</th>
              <th>Д3</th>
              <th>Д4</th>
              <th>Д5</th>

              <th>Э1</th>
              <th>Э2</th>
              <th>Э3</th>
              <th>Э4</th>
              <th>Э5</th>

              <th>↑</th>
              <th>↓</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </div>
  </div>

<script>
function bitCount(x){
  let c=0;
  while(x){ x &= x-1; c++; }
  return c;
}
function singleIndexFromMask(mask){
  if (mask===0) return null;
  if ((mask & (mask-1)) !== 0) return null;
  
  let pos = 0;
  while ((mask & 1) === 0){ mask >>= 1; pos++; }
  return pos + 1;
}

function computeResult(sMask, bMask){
  if (bitCount(sMask) !== 1 || bitCount(bMask) !== 1) return {code:'stop'};
  let s = singleIndexFromMask(sMask); // 1..5
  let b = singleIndexFromMask(bMask);
  if (s === b) return {code:'stop'};
  return (b > s) ? {code:'up'} : {code:'down'};
}

function bitsArray(mask, len=5){
  const arr = [];
  for (let i = 0; i < len; i++){
    arr.push((mask >> i) & 1);
  }
  return arr;
}

function renderTable(){
  const tbody = document.getElementById('tbody');
  const frag = document.createDocumentFragment();
  let countUp=0, countDown=0, countStop=0;

  for (let i = 0; i < 1024; i++){
    const sMask = (i >> 5) & 0b11111;
    const bMask = i & 0b11111;

    const sBits = bitsArray(sMask,5);
    const bBits = bitsArray(bMask,5);
    const result = computeResult(sMask, bMask);

    const tr = document.createElement('tr');

    const idxTd = document.createElement('td');
    idxTd.textContent = sBits.concat(bBits).join('');
    tr.appendChild(idxTd);


    for (let s = 0; s < 5; s++){
      const td = document.createElement('td');
      td.textContent = sBits[s];
      td.className = sBits[s] === 1 ? 'one' : ''
      tr.appendChild(td);
    }

    for (let b = 0; b < 5; b++){
      const td = document.createElement('td');
      td.textContent = bBits[b];
      td.className = bBits[b] === 1 ? 'one' : ''
      tr.appendChild(td);
    }

    const upTd = document.createElement('td');
    upTd.textContent = +(result.code === 'up') + '';
    upTd.className = upTd.textContent === '1' ? 'one' : ''
    tr.appendChild(upTd);

    const downTd = document.createElement('td');
    downTd.textContent = +(result.code === 'down') + '';
    downTd.className = downTd.textContent === '1' ? 'one' : ''
    tr.appendChild(downTd);

    frag.appendChild(tr);
  }

  tbody.appendChild(frag);
}

renderTable();
</script>
</body>
</html>